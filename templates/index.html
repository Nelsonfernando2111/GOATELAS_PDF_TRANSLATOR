{% load static %}
<!DOCTYPE html>
<html lang="pt">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GoatelasPDFTranslator</title>
<script src="https://cdn.tailwindcss.com"></script>
<link rel="stylesheet" href="{% static 'css/style.css' %}">
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen">

<div class="container mx-auto px-4 py-8">
    <div class="text-center mb-12">
        <h1 class="text-4xl font-bold text-gray-800 mb-4">Goatelas PDF Translator</h1>
        <p class="text-lg text-gray-600">Traduza o seu Arquivo PDF de forma Rápida e fácil</p>
    </div>

    <div class="max-w-2xl mx-auto bg-white rounded-2xl shadow-xl p-8">
        <form id="pdfForm" enctype="multipart/form-data">{% csrf_token %}

            <!-- Upload PDF -->
            <div class="mb-8">
                <label class="block text-sm font-semibold text-gray-700 mb-3">1. Selecione seu arquivo PDF</label>
                <div id="uploadArea" class="upload-area rounded-xl p-8 text-center cursor-pointer">
                    <div id="uploadContent">
                        <p class="text-lg font-medium text-gray-700 mb-2">Clique ou arraste o PDF aqui</p>
                        <p class="text-sm text-gray-500">Arquivos PDF até 10MB</p>
                    </div>
                    <div id="fileInfo" class="hidden">
                        <p id="fileName" class="font-medium text-gray-700"></p>
                        <p id="fileSize" class="text-sm text-gray-500"></p>
                    </div>
                </div>
                <input type="file" name="arquivo" id="pdfFile" accept=".pdf" class="hidden">
            </div>

            <!-- Seleção de idioma -->
            <div class="mb-8">
                <label class="block text-sm font-semibold text-gray-700 mb-3">2. Escolha o idioma de destino</label>
                <select name="idioma_destino" id="selectedLanguageInput" class="w-full border rounded-xl p-3">
                        {% with idiomas_aceitos="en,pt,es,fr,de,it,ja,zh-CN,zh-TW,ko,hi,th,ar" %}
                        {% for code, name in form.idioma_destino.field.choices %}
                            {% if code in idiomas_aceitos %}
                            <option value="{{ code }}">{{ name }}</option>
                            {% endif %}
                        {% endfor %}
                    {% endwith %}
                </select>
            </div>

            <button type="submit" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-4 px-6 rounded-xl">
                Traduzir PDF
            </button>

            <!-- Progresso -->
            <div id="progressWrapper" class="mt-6 hidden">
                <div class="progress-bar-wrapper">
                    <div id="progressBar" class="progress-bar"></div>
                </div>
                <p id="progressText" class="text-center text-gray-600 mt-2">Traduzindo PDF...</p>
            </div>

            <div id="downloadLinkWrapper" class="mt-6 text-center"></div>
        </form>
    </div>
    
</div>

<!-- Footer -->
<footer class="text-center mt-12 text-gray-500 text-sm py-3">
    <div class="container mx-auto text-center text-gray-600 text-sm">
        <p>&copy; 2025 Nelson Murubi | Todos os direitos reservados</p>
        <p class="mt-2">
            <a href="{% url 'privacidade' %}" class="hover:underline">Política de Privacidade</a> | 
            <a href="{% url 'termos' %}" class="hover:underline">Termos de Uso</a>
        </p>
    </div>
</footer>
<script>
  window.uploadUrlDjango = "{% url 'upload_pdf_ajax' %}";
</script>
<script src="{% static 'js/script.js' %}" defer></script>
</body>
</html>
